%!TEX encoding = UTF-8 Unicode
%!TEX root = ../doc-plm.tex





\chapter{Options de la ligne de commande}

Les options de la ligne de commande commencent toutes par un caractère « \texttt{-} ». La forme courte début par un simple « \texttt{-} », la forme longue par un double « \texttt{-} ». Certaines options acceptent au choix les deux formes (par exemple \texttt{-{}-verbose} ou \texttt{-v}). Une option ne commençant par un « \texttt{-} » est considérée comme un nom de fichier source. Les deux seules extensions autorisées pour les fichiers sources sont « \texttt{.plm} » (fichier source PLM) et  « \texttt{.plms} » (fichier de description d'une cible). Par exemple, pour compiler un fichier source \texttt{source.plm} avec l'option \emph{verbose} :

\texttt{plm -v source.plm}

Les options peuvent apparaître avant ou après le nom du fichier source, elles sont toujours examinées avant que la compilation ne commence.


\section{Options générales}

\textbf{-{}-help} Affiche l'aide.


\textbf{-{}-version} Affiche la version du compilateur PLM.



\textbf{-{}-log-file-read} Affiche l'accès en lecture à tout fichier.

\textbf{-{}-max-errors=\emph{n}} Arrête la compilation si le nombre de $n$ erreurs est atteint. Par défaut, la borne est égale à $100$.

\textbf{-{}-max-warnings=\emph{n}} Arrête la compilation si le nombre de $n$ alertes est atteint. Par défaut, la borne est égale à $100$.

\textbf{-{}-Werror} Transforme toute alerte en erreur.

\textbf{-{}-verbose}, \textbf{-v} Affiche des messages indiquant la progression de la compilation.








\sectionLabel{Options affectant le code engendré}{optionCodeEngendre}

\textbf{-{}-no-exception-generation} Inhibe la génération du code des exceptions.



\textbf{-{}-no-file-generation} Inhibe l'écriture de fichiers par le compilateur.


\textbf{-{}-routine-invocation-graph}, \textbf{-i} Engendre un fichier au format \texttt{dot} pouvant être ouvert par \texttt{graphviz}\index{graphviz} contenant le graphe d'invocation des routines.

\textbf{-{}-no-c-compilation}, \textbf{-c} N'effectue ni la compilation du code C engendré, ni le flashage du micro-contrôleur cible.


\textbf{-{}-no-flash}, \textbf{-f} N'effectue pas le flashage du micro-contrôleur cible.


\textbf{-{}-do-not-detect-recursive-calls}, \textbf{-r} N'effectue pas la détection des routines récursives. Par défaut le compilateur affiche un message d'erreur si il trouve des routines récursives.\index{Routines!recursives@récursives}






\section{Options de débogage du compilateur}


\textbf{-{}-output-concrete-syntax-tree} Engendre un fichier au format \texttt{dot} pouvant être ouvert par \texttt{graphviz}\index{graphviz} contenant l'arbre syntaxique concret du texte source.


\textbf{-{}-mode=\emph{nom}}, où \emph{nom} peut prendre pour valeur :
\begin{itemize}
  \item « \emph{vide} » : fonctionnement nominal, le compilateur effectue toutes les phases : analyse lexicale, analyse syntaxique, analyse sémantique, et génération de code ;
  \item \texttt{lexical-only} : le compilateur s'arrête après l'analyse lexicale, et affiche la séquence des symboles terminaux obtenue ;
  \item \texttt{syntax-only} : le compilateur s'arrête après l'analyse syntaxique, et affiche l'arbre de dérivation.
  \item \texttt{latex} : le compilateur s'arrête après l'analyse lexicale, et engendre un fichier latex contenant le texte source.
\end{itemize}

Écrire l'option \texttt{-{}-mode=} est équivalent à l'absence de cette option.
