%!TEX encoding = UTF-8 Unicode
%!TEX root = ../doc-plm.tex





\chapter{Déclaration des variables globales}

Les variables peuvent être déclarées en deux endroits :
\begin{itemize}
  \item en dehors de toute routine : c'est une variable globale (voir ci-après) ;
  \item parmi les instructions d'une routine : c'est une variable locale à la routine (voir \refSectionPage{declarationVariableLocale}).
\end{itemize}





\sectionLabel{Déclaration d'une variable globale}{declarationVariableGlobale}\index{Variable!globale}

La déclaration d'une variable globale est la suivante :

\begin{PLM}
var nom $mode1 $mode2 : Type = expression_statique
\end{PLM}

Où :
\begin{itemize}
  \item \plm=nom= est le nom de la variable globale ;
  \item \plm=$mode1=, \plm=$mode2= est la liste (non vide) des modes où la variable peut être accédée ; le mode \plm=$boot=\index{\$boot} y est interdit, car une routine \plm=boot= n'a pas le droit d'accéder aux variables globales (\refSectionPage{bootRoutine}) ;
  \item \plm=Type= est le nom du type de la variable globale ;
  \item \plm=expression_statique= est l'expression qui fournit la valeur initiale de cette variable ; cette expression est calculée lors de la compilation.
\end{itemize}

La portée d'une variable globale est le programme dans son intégralité : peu importe où est déclarée la variable.

L'\plm=expression_statique= peut utiliser la valeur des constantes globales : le compilateur évalue les constantes globales avant d'évaluer les valeurs initiales des variables globales. Par contre, \plm=expression_statique= ne peut pas utiliser les valeurs d'une autre variable globale.

Note : si plusieurs modes sont mentionnés dans la déclaration d'une variable globale, le compilateur ajoute le qualificatif \texttt{volatile} dans le code C engendré pour déclarer cette variable.


