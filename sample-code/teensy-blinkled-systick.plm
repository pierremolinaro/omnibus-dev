target "target-teensy-sequential-systick.plms"

//-----------------------------------------------------------------------------*

proc $user setup () {
  PORTC_PCR5 = (1 << 8)
  GPIOC_PDDR = GPIOC_PDDR | (1 << 5)
}

//-----------------------------------------------------------------------------*

var $user gCompteur : UInt32 = 0

var $user gProc : proc $isr () = 0

//-----------------------------------------------------------------------------*

proc $user loop () {
  if gCompteur == 2_000_000 then
    gCompteur = 0
    GPIOC_PSOR = 1 << 5
  elsif gCompteur == 1_000_000 then
    GPIOC_PCOR = 1 << 5
    gCompteur ++
  else
    gCompteur ++
  end
}

//-----------------------------------------------------------------------------*
