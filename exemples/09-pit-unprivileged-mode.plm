target "teensy-3-1-sequential-systick"

//------------------------------------------------*

init 100_000 {
  SIM_SCGC6 |= SIM_SCGC6_PIT
  AICS0_PARCG = 0
}

//------------------------------------------------*

proc setup `user () {
  let PIT_MCR_MDIS $uint32 = 2 
  PIT_MCR &= ~PIT_MCR_MDIS
  PIT_LDVAL0 = 200000
  PIT_TCTRL0 = 1
}

//------------------------------------------------*

proc loop `user () {
  waitMS (!250)
  ledOn (!LED_TEENSY) // Allumer la led
  waitMS (!250)
  ledOff (!LED_TEENSY)  // Ã‰teindre la led
  goto (!line:1 !column:0)
  printSpaces (!10)
  goto (!line:1 !column:0)
  printUnsigned (!PIT_CVAL0)
}

//------------------------------------------------*
