target "teensy-3-1-sequential-systick"

//------------------------------------------------*

proc setup `user () {
  PORTC_PCR5 = PORTC_PCR5::mux (1)
  GPIOC_PDDR |= (1 << 5)
}

//------------------------------------------------*

var gDelai $uint32 = 0 {
  @rw proc loop ()
}

//------------------------------------------------*

proc loop `user () {
  gDelai &++
  if gDelai == 1_000_000 then
    GPIOC_PSOR = 1 << 5 // Allumer la led
  elsif gDelai == 2_000_000 then
    gDelai = 0
    GPIOC_PCOR = 1 << 5 // Ã‰teindre la led
  end  
  let x $uint8 = 123
  let y $uint5 = convert x : $uint5
}

//------------------------------------------------*
