target "teensy-3-1-it"

//------------------------------------------------*

proc setup `user () {
}

//------------------------------------------------*

var toggle = true {
  @rw proc loop
}

var gCount $uint3 = 0 {
  @rw proc loop
}

//------------------------------------------------*

task T priority 12 stackSize 512 {
}

//------------------------------------------------*

proc loop `user () {
  waitDuringMS (!delay:250)
  ledOn (!LED_L1) // Allumer la led
  waitDuringMS (!delay:250)
  ledOff (!LED_L1)  // Ã‰teindre la led
  toggle = not toggle
  if toggle then
    gCount += 1 // EXCEPTION AFTER 7s
    goto (!line:1 !column:0)
    printUnsigned (!extend gCount : $uint32)
  end
}

//------------------------------------------------*
