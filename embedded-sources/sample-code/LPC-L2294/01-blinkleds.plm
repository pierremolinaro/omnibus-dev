target "LPC-L2294"

//------------------------------------------------*

system section ledOn () {
  IO1CLR  = 1 << 23 // Led On
}

//------------------------------------------------*

system section ledOff () {
  IO1SET  = 1 << 23 // Led Off
}

//------------------------------------------------*

task T1 priority 1 stackSize 512 {
  var compteur $uint32 = 0

  on time.wait (!untilDeadline:self.compteur) {
    ledOn ()
    self.compteur +%= 500
    time.wait (!untilDeadline:self.compteur)
    ledOff ()
    self.compteur +%= 500
  }
}

//------------------------------------------------*
