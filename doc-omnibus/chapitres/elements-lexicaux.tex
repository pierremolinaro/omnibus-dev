%!TEX encoding = UTF-8 Unicode
%!TEX root = ../doc-omnibus.tex



\chapter{Élements lexicaux}

%--- Pour supprimer tout en-tête et pied de page sur la 1re page d'un chapitre
\thispagestyle{empty}





\section{Identificateurs}
Un identificateur commence par une lettre Unicode, qui est suivie par zéro, un ou plusieurs lettres Unicode, chiffres décimaux, caractères «~\texttt{\_}~».

La casse est significative pour les identificateurs. Comme toute lettre Unicode est acceptée, les lettres accentuées, les lettres grecques, cyrilliques, ... sont autorisées :

\begin{OMNIBUS}
let entréeValidée Bool = yes
let α UInt4 = 2
let постоянная UInt8 = 200
\end{OMNIBUS}



\section{Mots réservés}\index{Mots réservés}

%Certains identificateurs sont réservés (\refSubsectionPage{motsReservesLangage}) .
%
%\subsectionLabel{Mots réservés correspondants aux éléments du langage}{motsReservesLangage}

Les mots réservés correspondant aux éléments du langage sont listés dans le \refTableau{motReservesLangage}.

\begin{table}[htbp]
  \centering
  \begin{tabular}{llllll}
    \input{chapitres/keywordList.tex}
  \end{tabular}
  \caption{Mots réservés du langage OMNIBUS}
  \labelTableau{motReservesLangage}
%  \ligne
\end{table}




%\section{Nom de type}
%
%En OMNIBUS, le nom d'un type commence toujours par le préfixe «~\$~»~: \omnibus=Bool=, \omnibus=UInt8=, \omnibus=$monType=, \dots






%\section{Constante chaîne de caractères}
%
%Comme en C, les chaînes de caractères sont délimitées par des caractères \texttt{"}. Les séquences d’échappement suivantes sont acceptées : \texttt{\textbackslash f}, \texttt{\textbackslash n}, \texttt{\textbackslash r}, \texttt{\textbackslash v}, \texttt{\textbackslash\textbackslash}, \texttt{\textbackslash\textquotedbl}, \texttt{\textbackslash\textquotesingle}, \texttt{\textbackslash0}.
%
%\section{Constante caractère}
%
%Comme en C, les caractères sont délimités par des caractères « \texttt{\textquotesingle} ». Par exemple :\omnibus!'A'!, \omnibus!'+'!.


%Les séquences d’échappement suivantes sont acceptées : \omnibus!'\f'!, \omnibus!'\n', !\omnibus!'\r'!, \omnibus!'\v'!, \omnibus!'\\'!, \omnibus!'\''!, \omnibus!'\0'!.

\section{Constante entière}

Vous pouvez écrire les constantes entières en décimal, en hexadécimal ou en binaire. Une constante entière de type \omnibus!LiteralInt!~; ce type est décrit au \refChapterPage{chapitreTypeEntierStatique}.

\textbf{Décimal.} Une constante entière décimale commence par un chiffre décimal, et est suivie par zéro, un ou plusieurs chiffres décimaux, ou caractères «~\texttt{\_}~».

Contrairement au C, un nombre qui commence par un zéro est un nombre écrit en décimal.

\textbf{Hexadécimal.} Un chiffre hexadécimal est soit un chiffre décimal, soit une lettre entre «~\texttt{a}~» et «~\texttt{f}~», écrite indifféremment en minuscule ou en majuscule. Une constante hexadécimale commence par la séquence «~\texttt{0x}~», et est suivie par un ou plusieurs chiffres hexadécimal, ou caractères « \texttt{\_} ».

\textbf{Binaire.} Une constante entière binaire commence par la séquence «~\texttt{0b}~» suivie par un ou plusieurs chiffres binaires, \texttt{0} ou \texttt{1}, ou caractères « \texttt{\_} ».

\textbf{Le caractère «~\_~».} Dans une constante entière, écrite en binaire, décimal ou en hexadécimal, le caractère «~\texttt{\_}~» peut servir de séparateur~; on peut ainsi écrire indifféremment : \omnibus!123!, \omnibus!1_23!, \omnibus!1_2_3!, \omnibus!1___23!, \omnibus!1___2__3__!, \dots

\textbf{Taille.} Une constante entière n'est pas limitée en taille : vous pouvez écrire des constantes entières avec un nombre quelconque de chiffres :

\begin{OMNIBUS}
let a = 123_456_789_123_456_789_123_456_789_123_456_789_123_456_789
\end{OMNIBUS}





\section{Délimiteurs}

OMNIBUS définit les délimiteurs listés dans le \refTableau{delimiteursLangage}.

\begin{table}[htbp]
  \centering
  \begin{tabular}{llllllllllllll}
    \input{chapitres/delimiterList.tex}
  \end{tabular}
  \caption{Délimiteurs du langage OMNIBUS}
  \labelTableau{delimiteursLangage}
%  \ligne
\end{table}

%\begin{table}[htbp]
%  \centering
%  \begin{tabular}{ccccccccccccccccc}
%    \omnibus!:!  & \omnibus!.! & \omnibus!,!  & \omnibus+!=+ & \omnibus!<=! & \omnibus!>=! & \omnibus!;! & \omnibus!==! & \omnibus!<! & \omnibus!>! & \omnibus![! & \omnibus!]! \\
%    \omnibus!&! & \omnibus!&=! & \omnibus!|! & \omnibus!|=!  & \omnibus!}! & \omnibus!}! & \omnibus!(!  & \omnibus!)!  & \omnibus!/!  & \omnibus+!/+ \\
%    \omnibus!-! & \omnibus!-%! & \omnibus!+!  & \omnibus!+%! & \omnibus!^!  & \omnibus!^=! & \omnibus!<<! & \omnibus!>>! & \omnibus!~!\\
%    \omnibus!%! & \omnibus+!%+ & \omnibus!=!\\
%    \omnibus!->! & \omnibus!::! & \omnibus!*! & \omnibus!*%!
%  \end{tabular}
%  \caption{Délimiteurs du langage OMNIBUS}
%  \labelTableau{delimiteursLangage}
%  \ligne
%\end{table}










\sectionLabel{Attributs}{attribut}


Un attribut est une séquence commençant par un \texttt{@} et suivi d'un ou plusieurs chiffres, lettres. Voici quelques attributs valides : \omnibus!@toto!, \omnibus!@truc1!, \omnibus!@123!. Un attribut sert à différents usages comme par exemple (liste non exhautive) :
\begin{itemize}
  \item \omnibus!@ro! indique qu'un registre de contrôle est accessible en lecture seule (\refSubsectionPage{attributRo})~;
  \item ajouter une étiquette à une instruction \omnibus!if! (\refSectionPage{instructionIF}), pour en augmenter la lisibilité.
\end{itemize}








\sectionLabel{Sélecteurs}{selecteur}

Un sélecteur spécifie le mode de passage d'un argument formel et d'un paramètre effectif. Ils se présentent sous plusieurs formes :
\begin{itemize}
  \item une forme anonyme : \omnibus+?+, \omnibus+!+, \omnibus+?!+, \omnibus+!?+~;
  \item \omnibus+?selecteur:+, \omnibus+!selecteur:+, \omnibus+?!selecteur:+, \omnibus+!?selecteur:+, où $selecteur$ est une séquence de lettres ou de chiffres.
\end{itemize}



Les sélecteurs font l'objet de la \refSectionPage{argumentFormel}.

\section{Séparateurs}

Tout caractère dont le code ASCII est compris entre \texttt{0x01} et \texttt{0x20} est considéré comme un séparateur (ceci inclut donc la tabulation horizontale \texttt{HT} (\texttt{0x09}), le passage à la ligne \texttt{LF} (\texttt{0x0A}), le retour-chariot \texttt{CR} (\texttt{0x0D}), et l’espace (\texttt{0x20}).









\section{Commentaires}

Un commentaire commence par deux barres obliques consécutives \omnibus+//+, et s’étend jusqu’à la fin de la ligne courante.




\section{Format}

Le format est libre, la fin de ligne n’est pas significative (sauf pour les commentaires, qui commencent par deux barres obliques consécutives \omnibus!//!, et s’étendent jusqu’à la fin de la ligne courante). Le compilateur accepte de manière indifférente que les fins de ligne soient codés par un caractère LF (\texttt{0x0A}), un caractère CR (\texttt{0x0D}), ou par la séquence CRLF (\texttt{0x0D}, \texttt{0x0A}).

