#----------------------------------------------------------------------------------------------------------------------*
#  AST                                                                                                                 *
#----------------------------------------------------------------------------------------------------------------------*

class @newtypeDeclaration : @abstractDeclaration {
  @lstring mNewTypeName
  @lstring mReferenceTypeName
}

#----------------------------------------------------------------------------------------------------------------------*

override getter @newtypeDeclaration location -> @location outLocation {
  outLocation = mNewTypeName.location
}

#----------------------------------------------------------------------------------------------------------------------*
#  SYNTAX                                                                                                              *
#----------------------------------------------------------------------------------------------------------------------*

syntax extension plm_syntax {

  #--------------------------------------------------------------------------------------------------------------------*

  rule <declaration> ?!@ast ioAST {
    $newtype$
    $Identifier$ ?let newTypeName
    $:$
    $Identifier$ ?let referenceTypeName
    ioAST.mDeclarationList += !@newtypeDeclaration.new {
      !newTypeName
      !referenceTypeName
    }
  }

  #--------------------------------------------------------------------------------------------------------------------*

}

#----------------------------------------------------------------------------------------------------------------------*
