
setter @instructionListIR appendLoadVolatileRegister
  ?let @operandIR inTargetValue
  ?let @bigint inAddress
{
  self += !@loadRegisterIR.new {!inTargetValue !inAddress}
}

#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

class @loadRegisterIR : @abstractInstructionIR {
  @operandIR mTargetValue
  @bigint mRegisterAddress
}

#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

override method @loadRegisterIR llvmInstructionCode
  ?!@string ioLLVMcode
  ?let @generationContext unused inGenerationContext
  ?!@generationAdds unused ioGenerationAdds
{
  let llvmType = [mTargetValue.mType llvmTypeName]
  ioLLVMcode += "  " + [mTargetValue.mValue llvmName] + " = load volatile " + llvmType + ", " + llvmType
         + " * inttoptr (i32 " + mRegisterAddress + " to " + llvmType + "*) ; " + [mRegisterAddress hexString] + "\n"
}

#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

override method @loadRegisterIR enterAccessibleEntities 
  ?!@accessibleEntities unused ioAccessibleEntities
  ?!@uint unused ioMaxBranchOfOnInstructions
{
}

#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————
