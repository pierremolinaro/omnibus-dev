#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

func %once llvmAttributeFunction -> @string outResult {
  outResult = " nounwind "
}

#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————
#  MODE NAMES                                                                                                           
#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————
#!   Modes
#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

func %once bootModeName -> @string outResult {
  outResult = "boot"
}

#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

func %once initModeName -> @string outResult {
  outResult = "init"
}

#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

func %once sectionModeName -> @string outResult {
  outResult = "section"
}

#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

func %once userModeName -> @string outResult {
  outResult = "user"
}

#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

func %once kernelModeName -> @string outResult {
  outResult = "kernel"
}

#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

func %once serviceModeName -> @string outResult {
  outResult = "service"
}

#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————
#! Names for invocation graph
#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

func procNameForInvocationGraph ?@unifiedTypeMap-proxy inReceiverType ?@lstring inName -> @lstring outName {
  var s = "func"
  if inReceiverType != .null then
    s += " $" + [inReceiverType key]
  end
  s += " " + inName
  outName = .new {!s !inName.location}
}

#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

func sectionNameForInvocationGraph ?@unifiedTypeMap-proxy inReceiverType ?@lstring inName -> @lstring outName {
  var s = "section"
  if inReceiverType != .null then
    s += " $" + [inReceiverType key]
  end
  s += " " + inName
  outName = .new {!s !inName.location}
}

#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

func serviceNameForInvocationGraph ?@unifiedTypeMap-proxy inReceiverType ?@lstring inName -> @lstring outName {
  var s = "service"
  if inReceiverType != .null then
    s += " $" + [inReceiverType key]
  end
  s += " " + inName
  outName = .new {!s !inName.location}
}

#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

func primitiveNameForInvocationGraph ?@unifiedTypeMap-proxy inReceiverType ?@lstring inName -> @lstring outName {
  var s = "primitive"
  if inReceiverType != .null then
    s += " $" + [inReceiverType key]
  end
  s += " " + inName
  outName = .new {!s !inName.location}
}

#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

func guardNameForInvocationGraph ?@unifiedTypeMap-proxy inReceiverType ?@lstring inName -> @lstring outName {
  var s = "guard"
  if inReceiverType != .null then
    s += " $" + [inReceiverType key]
  end
  s += " " + inName
  outName = .new {!s !inName.location}
}

#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

func initNameForInvocationGraph ?@unifiedTypeMap-proxy inReceiverType ?@lbigint inPriority -> @lstring outName {
  var s = "init"
  if inReceiverType != .null then
    s += " $" + [inReceiverType key]
  end
  s += " " + inPriority.bigint
  outName = .new {!s !inPriority.location}
}

#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

func panicNameForInvocationGraph ?@string inName ?@lbigint inPriority -> @lstring outName {
  let s = "panic " + inName + " " + inPriority.bigint
  outName = .new {!s !inPriority.location}
}

#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————
#!  Literal Strings
#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

func literalStringName ?let @uint inIndex -> @string outName {
  outName = "@string." + inIndex
}

#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

func literalCharacterArrayName ?let @uint inIndex -> @string outName {
  outName = "@str.array." + inIndex
}

#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

func %once staticStringTypeName -> @string outName {
  outName = "staticString"
}

#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

func %once boolTypeName -> @string outName {
  outName = "bool"
}

#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

func %once staticIntegerTypeName -> @string outName {
  outName = "staticInt"
}

#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

func %once functionResultVariableName -> @string outName {
  outName = "result"
}

#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

func llvmNameForFunction ?@string inName -> @string outName {
  outName = "func." + inName
}

#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————
#!   Interrupt routine
#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

func interruptNameForInvocationGraph ?@lstring inName -> @lstring outName {
  let s = "interrupt " + inName
  outName = .new {!s !inName.location}
}

#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

func llvmNameForInterrupt ?@lstring inName -> @lstring outName {
  outName = .new {!"interrupt." + inName !inName.location}
}

#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

func llvmNameForISR ?@string inName -> @string outName {
  outName = "isr." + inName
}

#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————
#!   Primitives
#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

func llvmNameForPrimitiveCall ?@string inName -> @string outName {
  outName = "primitive.call." + inName
}

#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

func llvmNameForPrimitiveImplementation ?@string inName -> @string outName {
  outName = "primitive.implementation." + inName
}

#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————
#!   Services
#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

func llvmNameForServiceCall ?@string inName -> @string outName {
  outName = "service.call." + inName
}

#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

func llvmNameForServiceImplementation ?@string inName -> @string outName {
  outName = "service.implementation." + inName
}

#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————
#!   Sections
#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

func llvmNameForSectionCall ?@string inName -> @string outName {
  outName = "section.call." + inName
}

#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

func llvmNameForSectionImplementation ?@string inName -> @string outName {
  outName = "section.implementation." + inName
}

#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————
#!   Guards
#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

func %once acceptVariableName -> @string outName {
  outName = "accept"
}

#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

func llvmNameForGuardCall ?@string inName -> @string outName {
  outName = "guard.call." + inName
}

#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

func llvmNameForGuardImplementation ?@string inName -> @string outName {
  outName = "guard.implementation." + inName
}

#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

func %once waitForGuardChangeFunctionName -> @string outName {
  outName = "waitForGuardChange"
}

#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————
#!  Variable names
#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

func llvmNameForLocalVariable ?@string inName -> @string outName {
  outName = "var." + inName
}

#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

func llvmNameForGlobalVariable ?@string inName -> @string outName {
  outName = "gvar." + inName
}

#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

func llvmNameForRegister ?name:@string inName -> @string outName {
  outName = "register." + inName
}

#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————
#!   Attributes
#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

func %once noWarningIfUnusedAttribute -> @string outResult {
  outResult = "noWarningIfUnused"
}

#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

func %once globalAttribute -> @string outResult {
  outResult = "global"
}

#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

func %once weakAttribute -> @string outResult {
  outResult = "weak"
}

#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

func %once nullWhenPanicDisabledAttribute -> @string outResult {
  outResult = "nullWhenPanicDisabled"
}

#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————
#! Tasks
#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

func taskProcNameForInvocationGraph ?@string inTaskName ?@lstring inProcName -> @lstring outName {
  let s = "taskproc " + inTaskName + " " + inProcName
  outName = .new {!s !inProcName.location}
}

#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

func stackNameForTask ?let @string inTaskName -> @string outResult {
  outResult = "@task.stack." + inTaskName
}

#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

func initNameForTaskType ?let @string inTaskTypeName -> @string outResult {
  outResult = "@task.init.$" + inTaskTypeName
}

#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

func stackAddressForTask ?let @string inTaskName -> @string outResult {
  outResult = "%task.stack.address." + inTaskName
}

#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

func mainRoutineNameForTask ?let @string inTaskName -> @string outResult {
  outResult = "@task.main." + inTaskName
}

#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

func llvmNameForTaskVariable ?@string inTaskName ?@string inVarName -> @string outName {
  outName = "task.var." + inTaskName + "." + inVarName
}

#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

