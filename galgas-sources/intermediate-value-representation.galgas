#----------------------------------------------------------------------------------------------------------------------*
#! @operandIR
#----------------------------------------------------------------------------------------------------------------------*

struct @operandIR {
  @unifiedTypeMap-proxy mType
  @valueIR mValue
}

#----------------------------------------------------------------------------------------------------------------------*
#! @valueIR
#----------------------------------------------------------------------------------------------------------------------*

enum @valueIR {
  case literalInteger  (@bigint value)
  case llvmLocalObject (@string name)
  case llvmStructureConstant (@operandIRList values)
}

#----------------------------------------------------------------------------------------------------------------------*

getter @valueIR string -> @string outResult {
  switch self
  case literalInteger (@bigint value) : outResult = [value string]
  case llvmLocalObject (@string name) : outResult = "%" + name
  case llvmStructureConstant (@operandIRList inValues) :
    outResult = "{"
    for () in inValues
      do outResult += [mOperand.mType llvmTypeName] + " " + mOperand.mValue
      between outResult += ", "
    end
    outResult += "}"
  end
}

#----------------------------------------------------------------------------------------------------------------------*

getter @valueIR name -> @string outResult {
  switch self
  case literalInteger (@bigint value) : outResult = [value string]
  case llvmLocalObject (@string name) : outResult = name
  case llvmStructureConstant (*) : outResult = "{...}"
  end
}

#----------------------------------------------------------------------------------------------------------------------*

getter @valueIR isStatic -> @bool outResult {
  switch self
  case literalInteger (*) : outResult = true
  case llvmLocalObject (*) : outResult = false
  case llvmStructureConstant (*) : outResult = true
  end
}

#----------------------------------------------------------------------------------------------------------------------*
#! @objectInMemoryIR
#----------------------------------------------------------------------------------------------------------------------*

enum @objectInMemoryIR {
  case register (@unifiedTypeMap-proxy type @lstring name @bigint address)
  case globalVariable (@unifiedTypeMap-proxy type @string name @bool isVolatile)
  case localValue (@unifiedTypeMap-proxy type @lstring name)
  case globalConstant (@unifiedTypeMap-proxy type  @string name)

  case localAccess (@lstring access)
}

#----------------------------------------------------------------------------------------------------------------------*
