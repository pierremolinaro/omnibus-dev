#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

setter @instructionListIR appendPropertyReferenceFromSelf
  ?let @objectIR inTarget
  ?let @PLMType inSelfType
  ?let @string inPropertyName
{
  if inSelfType == .void then
    error .nowhere : "<<INTERNAL ERROR>>"
  end
  self += !@getPropertyReferenceFromSelfIR.new {!inTarget !inSelfType !inPropertyName}
}

#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

class @getPropertyReferenceFromSelfIR : @abstractInstructionIR {
  @objectIR mTarget
  @PLMType mSelfType
  @string mPropertyName
}

#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

override method @getPropertyReferenceFromSelfIR llvmInstructionCode
  ?!@string ioLLVMcode
  ?let @generationContext unused inGenerationContext
  ?!@generationAdds unused ioGenerationAdds
{
  let llvmType = [mSelfType llvmTypeName]
  ioLLVMcode += "  " + [mTarget llvmName]
  ioLLVMcode += " = call " + [mTarget llvmTypeName] + "* @\"" + llvmType + ".access." + mPropertyName
  ioLLVMcode += "\" (" + llvmType + " * %self) ; " + mPropertyName + "\n"
}

#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

override method @getPropertyReferenceFromSelfIR enterAccessibleEntities
  ?!@accessibleEntities unused ioAccessibleEntities
  ?!@uint unused ioMaxBranchOfOnInstructions
{
}

#———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————
